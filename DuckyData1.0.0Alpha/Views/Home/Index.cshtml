@{
    ViewBag.Title = "Home Page";
}
@Scripts.Render("~/Scripts/homeController.js")

<div id="jumbotron" class="jumbotron" ng-controller="homeCtrl">
    <h4>Search Meatdata</h4>
    <p>
        Our site supports audio and video metadata retrieval and search
        <br>1.) We support metadata search for audio or video once each time
        <br>2.) You can drag and drop the file into the white box below or just single click the white box
        <br>3.) We have two options available:
        <br>&nbsp;a. Identify Media File: will search metadata for the file you uploaded and send you back the file with metadata applied
        <br>&nbsp;b. Identify Media File and Search: Identification just like option 1, and searches afterward. If you uploaded an audio file, we will search the album that contains the audio. If you 
        uploaded a video file, we will directly search the video for you.
    </p>
    <div class="width-100" id="file-identify-upload-box">
        <div class="width-100 file-drop-area">
            <div class="width-100 pull-left medi-drop-box" nv-file-drop uploader="singAudioUploader" ng-click="inputTagTrigger('#audio-indentift-select-tag')">
                drag and drop audio or video file here  <br> or click here to select file (100MB Maximun)
                <br><br>
                <div class="width-100">
                    <div class="file-name-to-indetify pull-left">{{singAudioUploader.queue[0]._file.name}}</div>
                    <span class="pull-right remove-identify-file" ng-click="singAudioUploader.queue=[];$event.stopPropagation()" ng-if="singAudioUploader.queue.length>0">&#10005</span>
                </div>
            </div>

            <div class="width-100 hidden-input-tag">
                <input type="file" id="audio-indentift-select-tag" nv-file-select uploader="singAudioUploader" multiple class="invisible">
            </div>
        </div>
        <div class="width-100 file-indentify-btn-group">
            <button class="btn btn-primary width-45 pull-left text-ellipsis" ng-click="identifyAudio(1)" ng-disabled="homePageUICtrl.disableIfentifyButton">Indentify Media File</button>
            <button class="btn btn-primary width-45 pull-right text-ellipsis" ng-click="identifyAudio(2)" ng-disabled="homePageUICtrl.disableIfentifyButton">Indentify Media File and Search</button>
        </div>
        <div class="width-100" id="metadata-display" ng-show="homePageUICtrl.showMetadata">
            <button ng-click="hideMetadata()">&#10005</button>
            <div class="width-100 text-center title text-ellipsis">Metadata</div>
            <div class="width-50 pull-left" ng-if="homePageData.metadata.album">
                <div class="width-100 title text-ellipsis">Album</div>
                <div class="width-100 text-ellipsis">{{homePageData.metadata.album}}</div>
            </div>
            <div class="width-50 pull-left" ng-if="homePageData.metadata.title">
                <div class="width-100 title text-ellipsis">Title</div>
                <div class="width-100 text-ellipsis">{{homePageData.metadata.title}}</div>
            </div>
            <div class="width-50 pull-left" ng-if="homePageData.metadata.artists">
                <div class="width-100 title text-ellipsis">Artists</div>
                <div class="width-100 text-ellipsis">
                    <span ng-repeat="artist in homePageData.metadata.artists track by $index">
                        <span ng-if="!$first && genre">, </span>
                        <span ng-if="artist">{{artist}}</span>
                    </span>
                </div>
            </div>
            <div class="width-50 pull-left" ng-if="homePageData.metadata.genres">
                <div class="width-100 title text-ellipsis">Genre</div>
                <div class="width-100 text-ellipsis">
                    <span ng-repeat="genre in homePageData.metadata.genres track by $index">
                        <span ng-if="!$first && genre">, </span>
                        <span ng-if="genre">{{genre}}</span>
                    </span>
                </div>
            </div>
            <div class="width-50 pull-left" ng-if="homePageData.metadata.producer">
                <div class="width-100 title text-ellipsis">Album</div>
                <div class="width-100 text-ellipsis">{{homePageData.metadata.producer}}</div>
            </div>
            <div class="width-50 pull-left" ng-if="homePageData.metadata.releaseDate">
                <div class="width-100 title text-ellipsis">Release Date</div>
                <div class="width-100 text-ellipsis">{{homePageData.metadata.releaseDate}}</div>
            </div>
        </div>
    </div>
</div>